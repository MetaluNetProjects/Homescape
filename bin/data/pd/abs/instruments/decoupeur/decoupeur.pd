#N canvas 41 1172 868 657 10;
#X obj 61 191 f;
#X obj 481 203 bng 15 250 50 0 \$1-calcenv \$1-calcenv pre:100% 20
6 0 10 -4034 -1 -1;
#X msg 519 91 const 0;
#X obj 645 266 / 512;
#X msg 645 289 resize \$1;
#X obj 558 203 bng 15 250 50 0 \$1-refrag \$1-refrag cut:0 20 6 0 10
-257985 -1 -1;
#X obj 63 57 t b f;
#X obj 256 411 t b f;
#X floatatom 648 26 5 0 0 0 - - -, f 5;
#X floatatom 647 74 10 0 0 0 - - -, f 10;
#X obj 340 433 change;
#X obj 340 411 t f f;
#N canvas 357 173 600 400 waitfor 0;
#X obj 156 108 inlet;
#X msg 160 168 1;
#X msg 202 166 0;
#X obj 186 217 f;
#X msg 273 201 1;
#X msg 244 201 0;
#X obj 236 238 spigot;
#X obj 304 201 init 1;
#X obj 202 140 t b b b;
#X obj 200 276 bng 15 250 50 0 empty empty empty 20 8 0 8 -262144 -1
-1;
#X obj 295 272 change;
#X obj 236 273 sel 1;
#X obj 277 318 outlet;
#X obj 275 136 bng 15 250 50 0 empty empty empty 20 8 0 8 -262144 -1
-1;
#X obj 228 297 delay 100;
#X obj 332 239 delay 1000;
#X obj 240 111 r \$1-nbfrag;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 1 0 6 0;
#X connect 2 0 3 1;
#X connect 4 0 6 1;
#X connect 5 0 6 1;
#X connect 6 0 5 0;
#X connect 6 0 9 0;
#X connect 6 0 11 0;
#X connect 6 0 15 0;
#X connect 7 0 6 1;
#X connect 8 0 2 0;
#X connect 8 1 3 0;
#X connect 8 2 4 0;
#X connect 11 0 14 0;
#X connect 14 0 12 0;
#X connect 15 0 4 0;
#X connect 16 0 8 0;
#X connect 16 0 13 0;
#X restore 175 453 pd waitfor;
#X msg 122 167 0;
#X obj 61 149 t b b;
#X floatatom 648 99 5 0 0 0 - - -, f 5;
#X floatatom 647 147 10 0 0 0 - - -, f 10;
#X msg 696 338 bounds 0 0 400 100;
#X obj 645 183 loadbang;
#N canvas 743 235 600 491 enveloppe 0;
#X obj 169 257 i;
#X obj 139 233 t f b;
#X msg 185 235 0;
#X obj 196 257 + 1;
#X msg 185 181 reset;
#X obj 246 304 moses;
#X obj 273 172 / 512;
#X obj 250 438 outlet;
#X obj 338 413 outlet;
#X msg 326 368 bang;
#X obj 250 341 /;
#X obj 250 364 * 100;
#X obj 250 387 i;
#X obj 156 23 inlet;
#X obj 155 48 t b f;
#X obj 250 409 change;
#X obj 155 80 / 4096;
#X obj 100 151 * 4096;
#X obj 100 175 pack f 4096;
#X msg 258 73 16384;
#X floatatom 258 97 5 0 0 0 - - -, f 5;
#X msg 258 48 8192;
#X msg 299 412 100;
#X obj 298 236 - 2;
#X obj 48 298 tabwrite \$1-envtab;
#X obj 139 210 tabenv \$1 4096 512;
#X obj 139 104 + 0;
#X obj 290 304 max 1;
#X obj 100 125 for++ 0 10 1;
#X connect 0 0 3 0;
#X connect 0 0 5 0;
#X connect 0 0 10 0;
#X connect 0 0 24 1;
#X connect 1 0 24 0;
#X connect 1 1 0 0;
#X connect 2 0 0 1;
#X connect 3 0 0 1;
#X connect 4 0 25 0;
#X connect 5 1 9 0;
#X connect 6 0 23 0;
#X connect 6 0 27 0;
#X connect 9 0 8 0;
#X connect 9 0 22 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 15 0;
#X connect 13 0 14 0;
#X connect 14 0 28 0;
#X connect 14 1 2 0;
#X connect 14 1 4 0;
#X connect 14 1 6 0;
#X connect 14 1 16 0;
#X connect 15 0 7 0;
#X connect 16 0 26 0;
#X connect 17 0 18 0;
#X connect 18 0 25 0;
#X connect 19 0 20 0;
#X connect 20 0 16 1;
#X connect 20 0 18 1;
#X connect 20 0 17 1;
#X connect 21 0 20 0;
#X connect 22 0 7 0;
#X connect 23 0 5 1;
#X connect 25 0 1 0;
#X connect 26 0 28 1;
#X connect 27 0 10 1;
#X connect 28 0 17 0;
#X restore 61 219 pd enveloppe;
#X obj 340 455 bang;
#X floatatom 61 240 5 0 0 0 - - -, f 5;
#X obj 415 433 change;
#X obj 415 411 t f f;
#X obj 415 455 bang;
#N canvas 161 123 600 519 diffenv 0;
#X obj 217 127 inlet;
#X obj 143 108 / 512;
#X obj 217 148 t b b b;
#X obj 99 307 sel 400;
#X obj 81 309 bng 15 250 50 0 empty empty empty 20 8 0 8 -262144 -1
-1;
#X obj 143 130 i;
#X obj 202 226 t f f f;
#X text 261 126 bang;
#X obj 226 330 -;
#X msg 278 288 0;
#X floatatom 83 188 5 0 0 0 - - -, f 5;
#X obj 338 120 bng 15 250 50 0 empty empty empty 20 8 0 8 -262144 -1
-1;
#X obj 221 289 t f f f;
#X obj 265 320 dbtorms;
#X obj 265 344 * 50;
#X obj 226 369 * 10;
#X obj 221 257 tabread \$1-envtab;
#X obj 226 397 tabwrite \$1-diffenvtab;
#X obj 143 87 r \$1-setlen;
#X obj 401 276 outlet;
#X obj 236 183 for++ 0 400 0.2;
#X connect 0 0 2 0;
#X connect 1 0 5 0;
#X connect 2 1 20 0;
#X connect 2 2 9 0;
#X connect 3 0 4 0;
#X connect 5 0 3 1;
#X connect 5 0 10 0;
#X connect 5 0 20 1;
#X connect 6 0 3 0;
#X connect 6 1 16 0;
#X connect 6 2 17 1;
#X connect 8 0 15 0;
#X connect 9 0 8 1;
#X connect 11 0 2 0;
#X connect 12 0 8 1;
#X connect 12 1 8 0;
#X connect 12 2 13 0;
#X connect 13 0 14 0;
#X connect 14 0 15 1;
#X connect 15 0 17 0;
#X connect 16 0 12 0;
#X connect 18 0 1 0;
#X connect 20 0 6 0;
#X connect 20 1 19 0;
#X restore 130 241 pd diffenv;
#X msg 719 290 bounds 0 -100 400 100;
#N canvas 841 92 442 612 frags_diff 0;
#X obj 153 55 inlet;
#X obj 74 39 / 512;
#X obj 160 240 moses 60;
#X obj 147 409 spigot;
#X obj 144 319 i;
#X msg 204 290 0;
#X obj 160 265 t b;
#X obj 171 319 + 1;
#X obj 181 489 i;
#X obj 208 489 + 1;
#X obj 147 437 t b b;
#X msg 197 461 0;
#X obj 67 520 * 512;
#X obj 201 565 outlet;
#X obj 153 76 t b b b;
#X obj 35 235 sel 400;
#X msg 120 266 1000;
#X obj 144 343 >= 3;
#X obj 251 536 max 0;
#X obj 74 61 i;
#X obj 211 266 t b b;
#X obj 138 154 t f f f;
#X obj 227 222 inlet;
#X obj 296 273 inlet;
#X obj 21 566 v \$0-laston;
#X obj 311 406 v \$0-laston;
#X obj 376 383 inlet;
#X obj 295 428 -;
#X obj 281 383 t f b;
#X obj 281 318 sel 1;
#X obj 281 360 -;
#X obj 295 451 <;
#X obj 295 472 sel 1;
#X obj 295 495 i;
#X obj 204 382 f;
#X obj 82 384 != 1;
#X obj 45 405 spigot;
#X text 197 54 bang;
#X text 268 222 threshold;
#X text 342 366 high min time;
#X text 291 256 low min time;
#X obj 60 348 bng 15 250 50 0 empty empty empty 20 8 0 8 -262144 -1
-1;
#X floatatom 219 418 5 0 0 0 - - -, f 5;
#X obj 201 534 + 0;
#X obj 378 197 bng 15 250 50 0 empty empty empty 20 8 0 8 -262144 -1
-1;
#X obj 278 52 bng 15 250 50 0 empty empty empty 20 8 0 8 -262144 -1
-1;
#X obj 17 525 max 0;
#X obj 17 501 - 3;
#X obj 251 565 s \$1-nbfrag;
#X obj 160 197 tabread \$1-diffenvtab;
#X obj 67 481 v \$0-nowi;
#X obj 281 339 v \$0-nowi;
#X obj 230 147 v \$0-nowi;
#X obj 67 540 tabwrite \$1-peaks;
#X obj 74 18 r \$1-setlen;
#X obj 160 119 for++ 0 400 0.2;
#X connect 0 0 14 0;
#X connect 1 0 19 0;
#X connect 2 0 6 0;
#X connect 2 1 20 0;
#X connect 2 1 44 0;
#X connect 3 0 10 0;
#X connect 4 0 7 0;
#X connect 4 0 17 0;
#X connect 5 0 4 1;
#X connect 5 0 34 0;
#X connect 6 0 4 0;
#X connect 7 0 4 1;
#X connect 8 0 9 0;
#X connect 8 0 33 1;
#X connect 8 0 43 0;
#X connect 8 0 53 1;
#X connect 9 0 8 1;
#X connect 10 0 50 0;
#X connect 10 1 8 0;
#X connect 11 0 8 1;
#X connect 11 0 33 1;
#X connect 12 0 53 0;
#X connect 14 1 55 0;
#X connect 14 2 11 0;
#X connect 14 2 16 0;
#X connect 15 0 36 0;
#X connect 15 0 10 0;
#X connect 15 0 41 0;
#X connect 16 0 4 0;
#X connect 17 0 29 0;
#X connect 17 0 34 0;
#X connect 18 0 48 0;
#X connect 19 0 15 1;
#X connect 19 0 55 1;
#X connect 20 0 5 0;
#X connect 20 1 3 0;
#X connect 21 0 15 0;
#X connect 21 1 49 0;
#X connect 21 2 52 0;
#X connect 22 0 2 1;
#X connect 23 0 17 1;
#X connect 23 0 30 1;
#X connect 25 0 27 1;
#X connect 26 0 31 1;
#X connect 27 0 31 0;
#X connect 28 0 27 0;
#X connect 28 1 25 0;
#X connect 29 0 51 0;
#X connect 30 0 28 0;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X connect 33 0 8 1;
#X connect 34 0 3 1;
#X connect 34 0 35 0;
#X connect 35 0 36 1;
#X connect 43 0 13 0;
#X connect 43 0 18 0;
#X connect 45 0 14 0;
#X connect 46 0 12 0;
#X connect 47 0 46 0;
#X connect 49 0 2 0;
#X connect 50 0 24 0;
#X connect 50 0 47 0;
#X connect 51 0 30 0;
#X connect 54 0 1 0;
#X connect 55 0 21 0;
#X restore 175 490 pd frags_diff;
#X obj 370 120 r \$1-nbfrag;
#X obj 123 188 s \$1-nbfrag;
#X obj 437 10 table \$1-peaks 1000;
#X obj 646 48 tabread \$1-peaks;
#X obj 646 121 tabread \$1-envtab;
#X obj 437 48 table \$1-diffenvtab 400;
#X obj 437 29 table \$1-envtab 400;
#X obj 130 266 s \$1-refrag;
#X obj 175 387 r \$1-refrag;
#X obj 415 477 s \$1-refrag;
#X obj 340 477 s \$1-refrag;
#X obj 256 434 s \$1-refrag;
#X floatatom 600 294 5 0 0 0 - - -, f 5;
#X obj 696 361 s \$1-envtab;
#X obj 518 110 s \$1-peaks;
#X obj 719 313 s \$1-diffenvtab;
#X obj 256 387 r \$2-thres;
#X obj 340 388 r \$2-lmin;
#X obj 415 389 r \$2-hmin;
#X obj 63 9 r \$1-setlen;
#X msg 645 215 60;
#X obj 645 237 * 44100;
#X obj 175 407 b;
#X floatatom 386 147 5 0 0 0 - - -, f 5;
#X obj 61 261 min 100;
#X floatatom 61 282 5 0 0 0 - - -, f 5;
#X obj 200 101 s \$1-diffenvtab;
#X obj 166 142 s \$1-envtab;
#X msg 200 78 bounds 0 -100 \$1 100;
#X msg 166 119 bounds 0 0 \$1 100;
#X obj 166 49 / 512;
#X msg 149 313 label pre:\$1%;
#X msg 370 167 label cut:\$1;
#X obj 61 129 r \$1-calcenv;
#X obj 63 83 s \$1-calcenv;
#X obj 175 429 del 20;
#X obj 214 270 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 204 243 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 63 32 t f f;
#X obj 437 67 table \$1-nbfragtab 1;
#X msg 463 121 0 \$1;
#X obj 463 142 s \$1-nbfragtab;
#X connect 0 0 19 0;
#X connect 3 0 4 0;
#X connect 3 0 40 0;
#X connect 4 0 41 0;
#X connect 4 0 43 0;
#X connect 6 0 62 0;
#X connect 6 1 58 0;
#X connect 7 0 39 0;
#X connect 7 1 27 1;
#X connect 8 0 31 0;
#X connect 10 0 20 0;
#X connect 11 0 10 0;
#X connect 11 1 27 2;
#X connect 12 0 27 0;
#X connect 13 0 29 0;
#X connect 14 0 0 0;
#X connect 14 1 13 0;
#X connect 15 0 32 0;
#X connect 17 0 41 0;
#X connect 18 0 17 0;
#X connect 18 0 26 0;
#X connect 18 0 48 0;
#X connect 19 0 21 0;
#X connect 19 1 25 0;
#X connect 19 1 65 0;
#X connect 20 0 38 0;
#X connect 21 0 52 0;
#X connect 22 0 24 0;
#X connect 23 0 22 0;
#X connect 23 1 27 3;
#X connect 24 0 37 0;
#X connect 25 0 35 0;
#X connect 25 0 64 0;
#X connect 26 0 43 0;
#X connect 28 0 51 0;
#X connect 28 0 60 0;
#X connect 28 0 68 0;
#X connect 31 0 9 0;
#X connect 32 0 16 0;
#X connect 36 0 50 0;
#X connect 44 0 7 0;
#X connect 45 0 11 0;
#X connect 46 0 23 0;
#X connect 47 0 66 0;
#X connect 48 0 49 0;
#X connect 49 0 3 0;
#X connect 50 0 63 0;
#X connect 52 0 53 0;
#X connect 53 0 59 0;
#X connect 56 0 54 0;
#X connect 57 0 55 0;
#X connect 58 0 56 0;
#X connect 58 0 57 0;
#X connect 59 0 1 0;
#X connect 60 0 5 0;
#X connect 61 0 14 0;
#X connect 63 0 12 0;
#X connect 66 0 6 0;
#X connect 66 1 0 1;
#X connect 68 0 69 0;
#X coords 0 -1 1 1 361 32 1 250 200;
